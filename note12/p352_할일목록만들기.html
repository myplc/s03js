<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      div[class="cls0"] {
        background-color: azure;
      }
      div[class="cls1"] {
        background-color: khaki;
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const input = document.querySelector("#todo");
        const todoList = document.querySelector("#list");
        const addButton = document.querySelector("#add-button");
        let ctid = 0;
        const addTodo = () => {
          ++ctid;
          console.log("addTodo가 실행됨.");
          const item = document.createElement("div");
          const checkbox = document.createElement("input");
          const text = document.createElement("span");
          const button = document.createElement("button");

          /* 버튼을 누를 때 요소 배치시키기 */
          todoList.appendChild(item).append(checkbox, text, button);
          item.setAttribute("id", `list${ctid}`);
          item.setAttribute("class", `cls${ctid % 2}`);
          /* 체크박스만들기 */
          checkbox.type = "checkbox"; // input의 속성에 체크박스 타입을 넣는다.
          checkbox.addEventListener("change", (event) => {
            if (event.target.checked) {
              item.style.textDecoration = "line-through";
            } else {
              item.style.textDecoration = "";
            }
            // item.style.textDecoration = (event.target.checked ?  "line-through" : "")
          });
          /* input의 내용을 넣기 */
          text.textContent = input.value;
          /* input의 내용 비우기 */
          input.value = "";
          /* button 설정하기 */
          button.textContent = "제거하기";
          button.addEventListener("click", () => {
            item.parentNode.removeChild(item);
            console.log(
              item.id +
                "의 아이디를 가진" +
                item.className +
                "의 클래스가 삭제되었습니다."
            );
          });
        };

        addButton.addEventListener("click", addTodo);
      });
    </script>
  </head>
  <body>
    <h1>할 일 목록</h1>
    <input type="text" id="todo" />
    <button id="add-button">추가하기</button>
    <div id="list"></div>
  </body>
</html>
